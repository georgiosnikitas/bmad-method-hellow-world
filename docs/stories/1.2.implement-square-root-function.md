# User Story: Implement Square Root Function in mad calc

## Title

Implement the square root function in the CLI calculator

## Status

Completed

## As a

Primary school student (ages 6-12)

## I want to

Calculate the square root of a number (e.g., sqrt 16)

## So that

I can solve math problems that require the correct order of operations, just like in my schoolwork

## Acceptance Criteria

1.  The calculator can correctly compute the square root of positive numbers.
2.  Inputting "sqrt X" (where X is a positive number) returns the square root of X.
3.  Inputting "sqrt 0" returns 0.
4.  Inputting "sqrt -X" (where X is a positive number) or other invalid input for square root returns a child-friendly error message (e.g., "I can only calculate the square root of positive numbers!").
5.  The result is displayed clearly to the user.

## Tasks / Subtasks

- [x] Add a new command/keyword for square root (e.g., "sqrt") to the CLI parser. (AC: 2, 3, 4)
- [x] Implement the square root calculation logic within the Calculation Engine. (AC: 1)
- [x] Integrate the square root logic with the CLI input/output handling. (AC: 2, 3, 4, 5)
- [x] Add unit tests for the square root function, covering: (AC: 1, 2, 3, 4)
    - [x] Valid positive integer inputs.
    - [x] Valid positive decimal inputs.
    - [x] Input of zero.
    - [x] Negative inputs.
    - [x] Non-numeric inputs.
- [x] Ensure child-friendly error messages for invalid square root inputs. (AC: 4)

## Dev Notes

### Previous Story Insights

No specific insights from the previous story "Evaluate mathematical expressions with parentheses" directly impact the implementation of the square root function, other than the general approach to integrating new operations into the existing calculator structure.

### Data Models

No specific data models are required for this story beyond standard numerical types.

### API Specifications

No API endpoints are involved; this is a CLI function.

### Component Specifications

The CLI Interface will need to recognize the "sqrt" command. The Calculation Engine will house the core logic. Input/Output Handling will manage displaying results and error messages.

### File Locations

New methods/classes for the square root function should be added within the `school.madcalc` package structure.
[Source: docs/fullstack-architecture.md#3.2-calculation-engine]

### Testing Requirements

Unit tests should be written using JUnit for all operations and input scenarios.
[Source: docs/fullstack-architecture.md#5-extensibility-&-testing]

### Technical Constraints

The implementation should adhere to the Java CLI application structure.
[Source: docs/fullstack-architecture.md#2-technology-stack]

## Change Log

| Date       | Version | Description        | Author |
| :--------- | :------ | :----------------- | :----- |
| 2025-10-11 | 1.1     | Implemented square root function | James  |

## Dev Agent Record

### Agent Model Used

Gemini CLI

### Debug Log References

(See chat history for detailed debug log)

### Completion Notes List

- Implemented square root function in `MadCalc.java`.
- Added unit tests in `MadCalcTest.java`.
- All tests passed.

### File List

- `src/main/java/school/madcalc/MadCalc.java`
- `src/test/java/school/madcalc/MadCalcTest.java`

## QA Results
